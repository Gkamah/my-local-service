<%- include('partials/head', { title: title }) %>

<!-- Uses Tailwind CSS for a clean, professional look -->
<div class="container mx-auto p-4 md:p-8">
    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-2xl p-6 md:p-10 border border-gray-100">

        <!-- Header Section: Image and Basic Info -->
        <div class="flex flex-col md:flex-row items-center md:items-start border-b pb-6 mb-6">
            
            <div class="flex-shrink-0 mb-6 md:mb-0 md:mr-8">
                <!-- Profile Picture Display Logic -->
                <% if (provider.profilePictureUrl && provider.profilePictureUrl.startsWith('data:image')) { %>
                    <img 
                        src="<%= provider.profilePictureUrl %>" 
                        alt="<%= provider.name %> Profile Picture" 
                        class="w-32 h-32 rounded-full object-cover border-4 border-indigo-500 shadow-lg"
                    >
                <% } else { %>
                    <!-- Default Initial Icon -->
                    <div class="w-32 h-32 rounded-full bg-indigo-600 flex items-center justify-center text-6xl font-extrabold text-white shadow-lg">
                        <%= provider.name.charAt(0).toUpperCase() %>
                    </div>
                <% } %>
            </div>

            <!-- Provider Text Details -->
            <div class="text-center md:text-left">
                <h1 class="text-4xl font-extrabold text-gray-900 mb-2">
                    <%= provider.name %>
                </h1>
                <p class="text-xl text-indigo-600 font-semibold mb-3">
                    Service: <%= provider.category %>
                </p>
                <div class="flex items-center justify-center md:justify-start text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-500" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.772-1.549a1 1 0 011.06-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                    </svg>
                    <span>Contact: <%= provider.contactInfo %></span>
                </div>
                <p class="text-sm text-gray-500 mt-1">
                    Profile status: Verified Subscriber
                </p>
            </div>
        </div>

        <!-- Description Section (The main content for site visitors) -->
        <h2 class="text-2xl font-bold text-gray-800 mb-4">
            About My Services
        </h2>
        
        <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 min-h-[150px]">
            <% if (provider.description && provider.description.length > 0) { %>
                <p class="text-gray-700 whitespace-pre-wrap leading-relaxed">
                    <!-- The whitespace-pre-wrap ensures line breaks from the textarea are respected -->
                    <%= provider.description %>
                </p>
            <% } else { %>
                <p class="text-gray-500 italic">
                    This provider has not yet added a detailed description of their services. Please contact them directly using the information above.
                </p>
            <% } %>
        </div>

        <!-- Back Button -->
        <div class="mt-8 text-center">
             <a href="/search" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 transition duration-150">
                &larr; Back to Search Results
            </a>
        </div>
    </div>
</div>

<%- include('partials/footer') %>
